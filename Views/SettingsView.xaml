<Page x:Class="SkidrowKiller.Views.SettingsView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      mc:Ignorable="d"
      Title="Settings">

    <Page.Resources>
        <!-- Toggle Switch Style -->
        <Style x:Key="ToggleSwitchStyle" TargetType="CheckBox">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="CheckBox">
                        <Grid>
                            <Border x:Name="Track" Width="44" Height="24" CornerRadius="12"
                                    Background="{StaticResource BgTertiaryBrush}"
                                    BorderBrush="{StaticResource BorderBrush}" BorderThickness="1"
                                    HorizontalAlignment="Left"/>
                            <Border x:Name="Thumb" Width="18" Height="18" CornerRadius="9"
                                    Background="{StaticResource TextSecondaryBrush}"
                                    HorizontalAlignment="Left" Margin="3,0,0,0">
                                <Border.RenderTransform>
                                    <TranslateTransform x:Name="ThumbTransform"/>
                                </Border.RenderTransform>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="Track" Property="Background" Value="{StaticResource AccentPrimaryBrush}"/>
                                <Setter TargetName="Thumb" Property="Background" Value="White"/>
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="ThumbTransform" Storyboard.TargetProperty="X" To="20" Duration="0:0:0.15"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="ThumbTransform" Storyboard.TargetProperty="X" To="0" Duration="0:0:0.15"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Settings Card Style -->
        <Style x:Key="SettingsCardStyle" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource CardGradientBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="16"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
        </Style>

        <!-- Setting Row Style -->
        <Style x:Key="SettingRowStyle" TargetType="Grid">
            <Setter Property="Margin" Value="0,8"/>
        </Style>
    </Page.Resources>

    <StackPanel MaxWidth="800" Margin="24" Background="Transparent">
            <!-- Header -->
            <TextBlock Text="Settings" Style="{StaticResource HeaderTextStyle}" FontSize="28" Margin="0,0,0,8"/>
            <TextBlock Text="Configure Skidrow Killer preferences" Style="{StaticResource BodyTextStyle}" Margin="0,0,0,24"/>

            <!-- Startup Services Section -->
            <TextBlock Text="STARTUP SERVICES" Style="{StaticResource SubHeaderTextStyle}" FontSize="12"
                       Foreground="{StaticResource SuccessBrush}" Margin="0,0,0,12"/>
            <Border Style="{StaticResource SettingsCardStyle}">
                <StackPanel>
                    <TextBlock Text="Select which services start automatically when the application launches"
                               Style="{StaticResource BodyTextStyle}" FontSize="12"
                               Foreground="{StaticResource TextTertiaryBrush}" Margin="0,0,0,12"/>

                    <!-- Real-time Protection -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Real-time Protection" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Monitor system for threats in real-time" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkStartupRealtimeProtection" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Gaming Mode -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Gaming Mode Service" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Auto-detect games and reduce CPU usage" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkStartupGamingMode" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- USB Protection -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="USB Protection Service" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Monitor and scan USB drives automatically" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkStartupUsbProtection" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Ransomware Protection -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Ransomware Protection Service" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Protect folders from encryption attacks" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkStartupRansomwareProtection" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Scheduled Scans -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Scheduled Scan Service" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Run scans at scheduled times" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkStartupScheduledScans" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Self Protection -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Self-Protection Service" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Protect Skidrow Killer from malware attacks" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkStartupSelfProtection" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- General Section -->
            <TextBlock Text="GENERAL" Style="{StaticResource SubHeaderTextStyle}" FontSize="12"
                       Foreground="{StaticResource AccentPrimaryBrush}" Margin="0,12,0,12"/>
            <Border Style="{StaticResource SettingsCardStyle}">
                <StackPanel>
                    <!-- Start with Windows -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Start with Windows" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Launch Skidrow Killer when Windows starts" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkStartWithWindows" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Start Minimized -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Start minimized to tray" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Start in system tray instead of showing window" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkStartMinimized" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Check for Updates -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Check for updates on startup" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Automatically check for new versions" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkCheckUpdates" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Real-time Protection Section -->
            <TextBlock Text="REAL-TIME PROTECTION" Style="{StaticResource SubHeaderTextStyle}" FontSize="12"
                       Foreground="{StaticResource SuccessBrush}" Margin="0,12,0,12"/>
            <Border Style="{StaticResource SettingsCardStyle}">
                <StackPanel>
                    <!-- Enable Real-time Protection -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Enable real-time protection" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Monitor system for new threats automatically" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkRealtimeProtection" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Monitor New Processes -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Monitor new processes" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Scan newly started processes for threats" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkMonitorProcesses" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Monitor Network -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Monitor network connections" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Detect suspicious network activity" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkMonitorNetwork" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Show Notifications -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Show threat notifications" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Display alerts when threats are detected" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkShowNotifications" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Gaming Mode Section -->
            <TextBlock Text="GAMING MODE" Style="{StaticResource SubHeaderTextStyle}" FontSize="12"
                       Foreground="{StaticResource AccentSecondaryBrush}" Margin="0,12,0,12"/>
            <Border Style="{StaticResource SettingsCardStyle}">
                <StackPanel>
                    <!-- Enable Gaming Mode -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Enable Gaming Mode" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Reduce CPU usage and disable notifications when gaming" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkGamingMode" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Auto-detect Games -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Auto-detect games and fullscreen apps" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Automatically activate when games or fullscreen apps are detected" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkAutoDetectGames" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Suppress Notifications -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Suppress notifications in gaming mode" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Don't show popups or alerts while gaming" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkSuppressGamingNotifications" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- USB Protection Section -->
            <TextBlock Text="USB PROTECTION" Style="{StaticResource SubHeaderTextStyle}" FontSize="12"
                       Foreground="{StaticResource WarningBrush}" Margin="0,12,0,12"/>
            <Border Style="{StaticResource SettingsCardStyle}">
                <StackPanel>
                    <!-- Auto-scan USB -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Auto-scan USB drives" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Automatically scan USB drives when connected" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkAutoScanUsb" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Block Autorun -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Block autorun.inf" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Automatically block/remove autorun files from USB drives" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkBlockAutorun" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Ransomware Protection Section -->
            <TextBlock Text="RANSOMWARE PROTECTION" Style="{StaticResource SubHeaderTextStyle}" FontSize="12"
                       Foreground="{StaticResource DangerBrush}" Margin="0,12,0,12"/>
            <Border Style="{StaticResource SettingsCardStyle}">
                <StackPanel>
                    <!-- Enable Ransomware Protection -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Enable ransomware protection" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Protect important folders from unauthorized encryption" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkRansomwareProtection" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Protected Folders Info -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Protected folders" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Documents, Pictures, Videos, Music, Desktop, Downloads"
                                       Style="{StaticResource BodyTextStyle}" FontSize="12"
                                       Foreground="{StaticResource TextTertiaryBrush}"/>
                        </StackPanel>
                        <Button Content="Manage" Style="{StaticResource SecondaryButtonStyle}"
                                Click="ManageProtectedFolders_Click" VerticalAlignment="Center" Padding="12,6"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Honeypot Files -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Create honeypot files" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Place decoy files to detect ransomware activity early" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkHoneypotFiles" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Scheduled Scans Section -->
            <TextBlock Text="SCHEDULED SCANS" Style="{StaticResource SubHeaderTextStyle}" FontSize="12"
                       Foreground="{StaticResource CyanPrimaryBrush}" Margin="0,12,0,12"/>
            <Border Style="{StaticResource SettingsCardStyle}">
                <StackPanel>
                    <!-- Enable Scheduled Scans -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Enable scheduled scans" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Automatically run scans at specified times" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkScheduledScans" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Schedule Settings -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Manage scan schedules" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock x:Name="TxtNextScan" Text="Next scan: Not scheduled"
                                       Style="{StaticResource BodyTextStyle}" FontSize="12"
                                       Foreground="{StaticResource TextTertiaryBrush}"/>
                        </StackPanel>
                        <Button Content="Configure" Style="{StaticResource SecondaryButtonStyle}"
                                Click="ConfigureSchedule_Click" VerticalAlignment="Center" Padding="12,6"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Scanning Section -->
            <TextBlock Text="SCANNING" Style="{StaticResource SubHeaderTextStyle}" FontSize="12"
                       Foreground="{StaticResource CyanPrimaryBrush}" Margin="0,12,0,12"/>
            <Border Style="{StaticResource SettingsCardStyle}">
                <StackPanel>
                    <!-- Scan Files -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Scan files and folders" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Include file system in scans" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkScanFiles" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Scan Registry -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Scan Windows Registry" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Check registry for malicious entries" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkScanRegistry" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Scan Processes -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Scan running processes" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Analyze active processes and loaded DLLs" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkScanProcesses" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Scan Network Drives -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Scan network drives" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Include mapped network drives in scans" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkScanNetworkDrives" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Threat Actions Section -->
            <TextBlock Text="THREAT ACTIONS" Style="{StaticResource SubHeaderTextStyle}" FontSize="12"
                       Foreground="{StaticResource DangerBrush}" Margin="0,12,0,12"/>
            <Border Style="{StaticResource SettingsCardStyle}">
                <StackPanel>
                    <!-- Default Action -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="180"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Default threat action" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="What to do when threats are found" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <ComboBox x:Name="CmbThreatAction" Grid.Column="1" VerticalAlignment="Center"
                                  Style="{StaticResource ModernComboBoxStyle}" SelectionChanged="Setting_SelectionChanged">
                            <ComboBoxItem Content="Ask me every time" IsSelected="True"/>
                            <ComboBoxItem Content="Quarantine automatically"/>
                            <ComboBoxItem Content="Delete automatically"/>
                            <ComboBoxItem Content="Ignore (log only)"/>
                        </ComboBox>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Backup Before Delete -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Backup before removal" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Create backup before deleting threats (recommended)" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkBackupBeforeDelete" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Quarantine Instead of Delete -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Quarantine instead of delete" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Move threats to quarantine folder instead of permanent deletion" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkQuarantineOnly" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Minimum Score to Report -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="180"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Detection sensitivity" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Minimum threat score to report (higher = fewer false positives)" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <ComboBox x:Name="CmbSensitivity" Grid.Column="1" VerticalAlignment="Center"
                                  Style="{StaticResource ModernComboBoxStyle}" SelectionChanged="Setting_SelectionChanged">
                            <ComboBoxItem Content="Very High (10+)"/>
                            <ComboBoxItem Content="High (20+)" IsSelected="True"/>
                            <ComboBoxItem Content="Medium (40+)"/>
                            <ComboBoxItem Content="Low (60+)"/>
                        </ComboBox>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Backup & Quarantine Section -->
            <TextBlock Text="BACKUP &amp; QUARANTINE" Style="{StaticResource SubHeaderTextStyle}" FontSize="12"
                       Foreground="{StaticResource WarningBrush}" Margin="0,12,0,12"/>
            <Border Style="{StaticResource SettingsCardStyle}">
                <StackPanel>
                    <!-- Backup Retention -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="180"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Backup retention period" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="How long to keep backups before auto-delete" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <ComboBox x:Name="CmbBackupRetention" Grid.Column="1" VerticalAlignment="Center"
                                  Style="{StaticResource ModernComboBoxStyle}" SelectionChanged="Setting_SelectionChanged">
                            <ComboBoxItem Content="3 days"/>
                            <ComboBoxItem Content="7 days" IsSelected="True"/>
                            <ComboBoxItem Content="14 days"/>
                            <ComboBoxItem Content="30 days"/>
                            <ComboBoxItem Content="Never delete"/>
                        </ComboBox>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Max Backup Size -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="180"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Maximum backup size" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Total size limit for backup storage" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <ComboBox x:Name="CmbMaxBackupSize" Grid.Column="1" VerticalAlignment="Center"
                                  Style="{StaticResource ModernComboBoxStyle}" SelectionChanged="Setting_SelectionChanged">
                            <ComboBoxItem Content="500 MB"/>
                            <ComboBoxItem Content="1 GB" IsSelected="True"/>
                            <ComboBoxItem Content="2 GB"/>
                            <ComboBoxItem Content="5 GB"/>
                            <ComboBoxItem Content="Unlimited"/>
                        </ComboBox>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Quarantine Location -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Quarantine location" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock x:Name="TxtQuarantinePath" Text="%LOCALAPPDATA%\SkidrowKiller\Quarantine"
                                       Style="{StaticResource BodyTextStyle}" FontSize="11" Foreground="{StaticResource TextTertiaryBrush}"/>
                        </StackPanel>
                        <Button Content="Open Folder" Style="{StaticResource SecondaryButtonStyle}"
                                Click="OpenQuarantineFolder_Click" VerticalAlignment="Center" Padding="12,6"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Logging Section -->
            <TextBlock Text="LOGGING" Style="{StaticResource SubHeaderTextStyle}" FontSize="12"
                       Foreground="{StaticResource TextSecondaryBrush}" Margin="0,12,0,12"/>
            <Border Style="{StaticResource SettingsCardStyle}">
                <StackPanel>
                    <!-- Enable Logging -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Enable file logging" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Save scan results and events to log files" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkEnableLogging" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  VerticalAlignment="Center" IsChecked="True" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Log Level -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="180"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Log detail level" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Amount of detail to include in logs" Style="{StaticResource BodyTextStyle}" FontSize="12"/>
                        </StackPanel>
                        <ComboBox x:Name="CmbLogLevel" Grid.Column="1" VerticalAlignment="Center"
                                  Style="{StaticResource ModernComboBoxStyle}" SelectionChanged="Setting_SelectionChanged">
                            <ComboBoxItem Content="Errors only"/>
                            <ComboBoxItem Content="Warnings and errors"/>
                            <ComboBoxItem Content="Normal" IsSelected="True"/>
                            <ComboBoxItem Content="Detailed"/>
                            <ComboBoxItem Content="Debug (verbose)"/>
                        </ComboBox>
                    </Grid>

                    <Separator Background="{StaticResource BorderBrush}" Margin="0,8"/>

                    <!-- Log Location -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Log files location" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock x:Name="TxtLogPath" Text="%LOCALAPPDATA%\SkidrowKiller\Logs"
                                       Style="{StaticResource BodyTextStyle}" FontSize="11" Foreground="{StaticResource TextTertiaryBrush}"/>
                        </StackPanel>
                        <Button Content="Open Folder" Style="{StaticResource SecondaryButtonStyle}"
                                Click="OpenLogFolder_Click" VerticalAlignment="Center" Padding="12,6"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Threat Intelligence Section -->
            <TextBlock Text="THREAT INTELLIGENCE" Style="{StaticResource SubHeaderTextStyle}" FontSize="12"
                       Foreground="{StaticResource AccentPrimaryBrush}" Margin="0,12,0,12"/>
            <Border Style="{StaticResource SettingsCardStyle}">
                <StackPanel>
                    <!-- Threat Intel Database Info -->
                    <StackPanel Margin="0,0,0,16">
                        <!-- Header Row: Icon + Title + Buttons -->
                        <Grid Margin="0,0,0,12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <!-- Database Icon -->
                            <Border Grid.Column="0" Width="40" Height="40" CornerRadius="8"
                                    Background="{StaticResource AccentGradientBrush}" Margin="0,0,12,0"
                                    VerticalAlignment="Center">
                                <Path Width="20" Height="20" Stretch="Uniform" Fill="White"
                                      HorizontalAlignment="Center" VerticalAlignment="Center"
                                      Data="M12,3C7.58,3 4,4.79 4,7V17C4,19.21 7.59,21 12,21C16.41,21 20,19.21 20,17V7C20,4.79 16.42,3 12,3M18,17C18,17.5 15.87,19 12,19C8.13,19 6,17.5 6,17V14.77C7.61,15.55 9.72,16 12,16C14.28,16 16.39,15.55 18,14.77V17M18,12.45C16.7,13.4 14.42,14 12,14C9.58,14 7.3,13.4 6,12.45V9.64C7.47,10.47 9.61,11 12,11C14.39,11 16.53,10.47 18,9.64V12.45M12,9C8.13,9 6,7.5 6,7C6,6.5 8.13,5 12,5C15.87,5 18,6.5 18,7C18,7.5 15.87,9 12,9Z"/>
                            </Border>

                            <!-- Title -->
                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="Threat Intelligence Database"
                                           Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                                <TextBlock Text="Multi-source threat data from abuse.ch, ClamAV, YARA rules"
                                           Style="{StaticResource BodyTextStyle}" FontSize="11"
                                           Foreground="{StaticResource TextTertiaryBrush}"/>
                            </StackPanel>

                            <!-- Manage Button -->
                            <Button x:Name="BtnManageThreatIntel" Grid.Column="2" Style="{StaticResource SecondaryButtonStyle}"
                                    Click="ManageThreatIntel_Click" Padding="12,8" Margin="0,0,8,0" VerticalAlignment="Center">
                                <StackPanel Orientation="Horizontal">
                                    <Path Width="14" Height="14" Stretch="Uniform" Fill="{StaticResource TextPrimaryBrush}" Margin="0,0,6,0"
                                          Data="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"/>
                                    <TextBlock Text="Manage" FontSize="12"/>
                                </StackPanel>
                            </Button>

                            <!-- Update Button -->
                            <Button x:Name="BtnUpdateDatabase" Grid.Column="3" Style="{StaticResource SuccessButtonStyle}"
                                    Click="UpdateDatabase_Click" Padding="12,8" VerticalAlignment="Center">
                                <StackPanel Orientation="Horizontal">
                                    <Path Width="14" Height="14" Stretch="Uniform" Fill="White" Margin="0,0,6,0"
                                          Data="M17.65,6.35C16.2,4.9 14.21,4 12,4C7.58,4 4.01,7.58 4.01,12C4.01,16.42 7.58,20 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18C8.69,18 6,15.31 6,12C6,8.69 8.69,6 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"/>
                                    <TextBlock Text="Update All" FontSize="12"/>
                                </StackPanel>
                            </Button>
                        </Grid>

                        <!-- Database Stats Grid -->
                        <Border Background="{StaticResource BgTertiaryBrush}" CornerRadius="6" Padding="12">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!-- Hashes -->
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Malware Hashes" Style="{StaticResource BodyTextStyle}"
                                               Opacity="0.6" FontSize="11"/>
                                    <TextBlock x:Name="TxtDbHashes" Text="0"
                                               Style="{StaticResource BodyTextStyle}"
                                               Foreground="{StaticResource AccentPrimaryBrush}"
                                               FontWeight="SemiBold" FontSize="12" Margin="0,2,0,0"/>
                                </StackPanel>

                                <!-- URLs -->
                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="Malicious URLs" Style="{StaticResource BodyTextStyle}"
                                               Opacity="0.6" FontSize="11"/>
                                    <TextBlock x:Name="TxtDbUrls" Text="0"
                                               Style="{StaticResource BodyTextStyle}"
                                               Foreground="{StaticResource WarningBrush}"
                                               FontWeight="SemiBold" FontSize="12" Margin="0,2,0,0"/>
                                </StackPanel>

                                <!-- IPs -->
                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="C&amp;C IPs" Style="{StaticResource BodyTextStyle}"
                                               Opacity="0.6" FontSize="11"/>
                                    <TextBlock x:Name="TxtDbIPs" Text="0"
                                               Style="{StaticResource BodyTextStyle}"
                                               Foreground="{StaticResource DangerBrush}"
                                               FontWeight="SemiBold" FontSize="12" Margin="0,2,0,0"/>
                                </StackPanel>

                                <!-- YARA Rules -->
                                <StackPanel Grid.Column="3">
                                    <TextBlock Text="YARA Rules" Style="{StaticResource BodyTextStyle}"
                                               Opacity="0.6" FontSize="11"/>
                                    <TextBlock x:Name="TxtDbYara" Text="0"
                                               Style="{StaticResource BodyTextStyle}"
                                               Foreground="{StaticResource GreenPrimaryBrush}"
                                               FontWeight="SemiBold" FontSize="12" Margin="0,2,0,0"/>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <!-- Last Update & Tier Info -->
                        <Grid Margin="0,8,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock x:Name="TxtDbLastUpdate" Text="Last updated: Never"
                                       Style="{StaticResource BodyTextStyle}" FontSize="11"
                                       Foreground="{StaticResource TextTertiaryBrush}" VerticalAlignment="Center"/>
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <TextBlock Text="Tier: " Style="{StaticResource BodyTextStyle}" FontSize="11"
                                           Foreground="{StaticResource TextTertiaryBrush}" VerticalAlignment="Center"/>
                                <Border x:Name="TierBadge" Background="{StaticResource AccentPrimaryBrush}"
                                        CornerRadius="3" Padding="6,2">
                                    <TextBlock x:Name="TxtCurrentTier" Text="Free" FontSize="10" FontWeight="Bold" Foreground="White"/>
                                </Border>
                                <TextBlock x:Name="TxtAvailableFeeds" Text=" (5/12 feeds)" Style="{StaticResource BodyTextStyle}" FontSize="11"
                                           Foreground="{StaticResource TextTertiaryBrush}" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>

                    <Separator Background="{StaticResource BorderBrush}" Height="1" Margin="0,0,0,16"/>

                    <!-- Auto Update Settings -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Auto-update threat database" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="Automatically download latest threat intelligence from all sources"
                                       Style="{StaticResource BodyTextStyle}" Foreground="{StaticResource TextTertiaryBrush}"/>
                        </StackPanel>
                        <CheckBox x:Name="ChkAutoUpdateDb" Grid.Column="1" Style="{StaticResource ToggleSwitchStyle}"
                                  IsChecked="True" VerticalAlignment="Center" Checked="Setting_Changed" Unchecked="Setting_Changed"/>
                    </Grid>

                    <!-- Update Frequency -->
                    <Grid Style="{StaticResource SettingRowStyle}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="150"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Update frequency" Style="{StaticResource SubHeaderTextStyle}" FontSize="14"/>
                            <TextBlock Text="How often to check for threat intelligence updates"
                                       Style="{StaticResource BodyTextStyle}" Foreground="{StaticResource TextTertiaryBrush}"/>
                        </StackPanel>
                        <ComboBox x:Name="CmbUpdateFrequency" Grid.Column="1" Style="{StaticResource ModernComboBoxStyle}"
                                  VerticalAlignment="Center" SelectionChanged="Setting_SelectionChanged">
                            <ComboBoxItem Content="Every hour"/>
                            <ComboBoxItem Content="Every 6 hours" IsSelected="True"/>
                            <ComboBoxItem Content="Every 12 hours"/>
                            <ComboBoxItem Content="Daily"/>
                        </ComboBox>
                    </Grid>

                    <!-- Database Status -->
                    <Border Background="#1029b6f6" CornerRadius="8" Padding="12" Margin="0,8,0,0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Path x:Name="DbStatusIcon" Width="20" Height="20" Stretch="Uniform" Margin="0,0,12,0"
                                  Fill="{StaticResource GreenPrimaryBrush}"
                                  Data="M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M10,17L5,12L6.41,10.59L10,14.17L17.59,6.58L19,8L10,17Z"/>
                            <TextBlock x:Name="TxtDbStatus" Grid.Column="1" Text="Click 'Update All' to download threat intelligence"
                                       Style="{StaticResource BodyTextStyle}" VerticalAlignment="Center"
                                       Foreground="{StaticResource TextSecondaryBrush}"/>
                        </Grid>
                    </Border>
                </StackPanel>
            </Border>

            <!-- About Section -->
            <TextBlock Text="ABOUT" Style="{StaticResource SubHeaderTextStyle}" FontSize="12"
                       Foreground="{StaticResource TextSecondaryBrush}" Margin="0,12,0,12"/>
            <Border Style="{StaticResource SettingsCardStyle}">
                <StackPanel>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock x:Name="TxtAppName" Text="Skidrow Killer" Style="{StaticResource HeaderTextStyle}" FontSize="18"/>
                            <TextBlock x:Name="TxtVersion" Text="Version 3.6.0" Style="{StaticResource BodyTextStyle}" Margin="0,4,0,0"/>
                            <TextBlock Text="Advanced Malware Scanner with Smart Detection" Style="{StaticResource BodyTextStyle}"
                                       Foreground="{StaticResource TextTertiaryBrush}" Margin="0,2,0,0"/>
                            <TextBlock Text="Copyright  2024-2026 xman studio" Style="{StaticResource BodyTextStyle}"
                                       Foreground="{StaticResource TextTertiaryBrush}" Margin="0,8,0,0"/>
                        </StackPanel>
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <Button Content="Check for Updates" Style="{StaticResource PrimaryButtonStyle}"
                                    Click="CheckForUpdates_Click" Margin="0,0,0,8" Padding="16,8"/>
                            <Button Content="Reset to Defaults" Style="{StaticResource SecondaryButtonStyle}"
                                    Click="ResetDefaults_Click" Padding="16,8"/>
                        </StackPanel>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Save Button -->
            <Grid Margin="0,24,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock x:Name="TxtSaveStatus" Style="{StaticResource BodyTextStyle}" VerticalAlignment="Center"
                           Foreground="{StaticResource SuccessBrush}"/>
                <Button x:Name="BtnSave" Content="Save Settings" Grid.Column="1" Style="{StaticResource PrimaryButtonStyle}"
                        Click="SaveSettings_Click" Padding="24,12"/>
            </Grid>

            <Separator Height="50" Background="Transparent"/>
    </StackPanel>
</Page>
